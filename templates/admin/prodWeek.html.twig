{% extends 'baseAdmin.html.twig' %}

{% form_theme formProdOfWeekUnity1 'bootstrap_4_layout.html.twig' %}
{% form_theme formProdOfWeekByKg1 'bootstrap_4_layout.html.twig' %}

{% block title %}Produits de la semaine !{% endblock %}

{% block body %}
<h1 class="text-center">Définissez vos produits de la semaine.</h1>
<p class="textProdOfWeek">
    Afin de vous aider dans l'élaboration de votre liste de produits, cette liste est présente avec pour chaque produit, son nom et sa quantité.</br>
    Pour ce faire, 3 solutions :</br>
    1/Pour modifier la quantité d'un produit ou remplacer un produit par un autre, cliquez dans la liste sur le bouton "Charger ce produit" correspondant au produit à modifier ou à remplacer.</br>
    Ensuite, définissez son nom et sa quantité dans les champs correspondant, puis cliquez sur "Enregistrer ce produit dans les produits de la semaine".</br>
    De cette manière, vous avez modifié sa quantité ou remplacer le produit .</br>
    2/Pour créer un nouveau produit, <a href="new"><button type="submit" class="btn btn-success">cliquez ici!</button></a></br>
    Puis, entrez dans les champs correspondant le nom et la quantité du nouveau produit !</br>
    Et voilà, vous avez un nouveau produit dans la liste des produits de la semaine !!</br>
    3/Pour supprimer un produit, cliquez sur "Supprimer ce produit" dans la liste des produits !
</p>

<div class="formAndLists">
    <div class="titleAndForms">
        <h2 class="text-center">Formulaires de création/</br>modification des produits de la semaine !</h2>
        <div class="forms">
            <div class="titleAndFormUnity">
                <h4 class="text-center">Formulaire des produits à l'unité :</h4>
                <div class="formUnity">
                    <div class="form">
                        {{ form_start(formProdOfWeekUnity1) }}
                        {{ form_label(formProdOfWeekUnity1.prodByUnity,'Nom du produit') }}
                        {{ form_widget(formProdOfWeekUnity1.prodByUnity, {'attr' : {'placeholder': "Nom du produit"}}) }}
                        {{ form_label(formProdOfWeekUnity1.quantityProdUnity,'Quantité') }}
                        {{ form_widget(formProdOfWeekUnity1.quantityProdUnity, {'attr' : {'placeholder': "Nombre d'unité du produit"}}) }}
                        <button type="submit" class="btn btn-success" href="product_of_the_week/{id}">Enregistrer ce produit dans les produits de la semaine </button></br>
                        {{form_end(formProdOfWeekUnity1)}}
                    </div>{#form#}
                </div>{#formUnity#}
            </div>{#titleAndFormUnity#}

            <div class="titleAndFormKg">
                <h4 class="text-center">Formulaire des produits au kilo :</h4>
                <div class="formKg">
                    <div class="form">
                        {{ form_start(formProdOfWeekByKg1) }}
                        {{ form_label(formProdOfWeekByKg1.prodByKg,'Nom du produit') }}
                        {{ form_widget(formProdOfWeekByKg1.prodByKg, {'attr' : {'placeholder': "Nom du produit"}}) }}
                        {{ form_label(formProdOfWeekByKg1.prodByKg,'Quantité') }}
                        {{ form_widget(formProdOfWeekByKg1.quantityProdKg, {'attr' : {'placeholder': "Nombre de kilo du produit"}}) }}
                        <button type="submit" class="btn btn-success">Enregistrer ce produit dans les produits de la semaine </button>
                        {{form_end(formProdOfWeekByKg1)}}
                    </div>
                </div>
            </div>{#titleAndFormKg#}
        </div>{#forms#}
    </div>{#titleAndForms#}

    <div class="listsProd">
        <h2 class="text-center">Liste des produits de la semaine !</h2>
        <h4 class="text-center">Produits à l'unité :</h4>
        <div class="prodList">
            {% for prodUnity in prodOfWeekComp %}
                <div class="metadata">
                    <p>
                        Nom du produit : <strong class="refProd">{{prodUnity.prodByUnity}}</strong> ;
                        Quantité du produit : <strong class="refProd">{{prodUnity.quantityProdUnity}}</strong></br>
                        <a href="{{ path('product_of_the_week',{'id':prodUnity.id})}}"><button type="submit" class="btn btn-success">Charger ce produit</button></a>
                        <a href="{{ path('delete_prod',{'id':prodUnity.id})}}"><button type="submit" class="btn btn-success">Supprimer ce produit</button></a>
                    </p>
                </div>
                <div class="sepMemList"></div>
            {% endfor %}
        
        </div>{#prodList#}
    
        <h4 class="text-center">Produits au kilo :</h4>
        <div class="prodList">
            {% for prodKg in prodOfWeekColl %}
                <div class="metadata">
                    <p>
                        Nom du produit : <strong class="refProd">{{prodKg.prodByKg}}</strong> ;
                        Quantité du produit : <strong class="refProd">{{prodKg.quantityProdKg}}</strong></br>
                        <a href="{{ path('product_of_the_week',{'id':prodKg.id})}}"><button type="submit" class="btn btn-success">Charger ce produit</button></a>
                        <a href="{{ path('delete_prod',{'id':prodKg.id})}}"><button type="submit" class="btn btn-success">Supprimer ce produit</button></a>
                    </p>
                </div>
                <div class="sepMemList"></div>
            {% endfor %}
        
        </div>{#prodList#}
    </div>{#listsProd#}
</div>{#formAndLists#}
{% endblock %}